# situation_awareness_main.py

from cctv_event_detector.situation_awareness.facade_test import SituationAwarenessFacade

def main():
    """
    ìƒí™© ì¸ì‹ ë° ìœµí•© ì‹œìŠ¤í…œì˜ ë©”ì¸ ì‹¤í–‰ í•¨ìˆ˜ì…ë‹ˆë‹¤. (ë°°ì¹˜ í…ŒìŠ¤íŠ¸ ë²„ì „)
    ì§€ì •ëœ ë°°ì¹˜ IDì— ëŒ€í•œ ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.
    """
    print("===== ğŸ‘ï¸  ìƒí™© ì¸ì‹ ìœµí•© ì‹œìŠ¤í…œ (ë°°ì¹˜ í…ŒìŠ¤íŠ¸) ì‹œì‘ =====")
    
    # =======================================================
    # âœ… í…ŒìŠ¤íŠ¸í•  ë°°ì¹˜ IDë¥¼ ì—¬ê¸°ì— ì§€ì •í•˜ì„¸ìš”.
    # ì˜ˆ: "batch_20231026_153000"
    TARGET_BATCH_ID = "20250805-173454"
    # =======================================================

    try:
        # í¼ì‚¬ë“œ ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
        facade = SituationAwarenessFacade()
        
        # ì§€ì •ëœ ë°°ì¹˜ IDë¡œ ì²˜ë¦¬ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.
        facade.process_batch(TARGET_BATCH_ID)
        
    except Exception as e:
        print(f"âŒ í”„ë¡œê·¸ë¨ ì‹¤í–‰ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: {e}")
    finally:
        print("\n===== ğŸ‘ï¸  ìƒí™© ì¸ì‹ ìœµí•© ì‹œìŠ¤í…œ (ë°°ì¹˜ í…ŒìŠ¤íŠ¸) ì¢…ë£Œ =====")

if __name__ == "__main__":
    main()